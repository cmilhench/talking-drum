<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title></title>
  <link href='http://fonts.googleapis.com/css?family=Cousine:400,700,400italic,700italic' rel='stylesheet' type='text/css'>
  <link href='index.css' rel='stylesheet' type='text/css'>
</head>
<body>
  <div class="container">
    <!-- if: channels().length == 0 -->
        Please wait for connection <!-- ko text: nick --><!-- /ko -->...
    <!-- /ko -->
    <!-- ko if: channels().length != 0 -->
    <!-- ko foreach: channels() -->
    <div data-bind="attr: { id: name() }" class="panel panel-default">
      <div class="panel-heading">
        <strong data-bind="text: name()"></strong>
        <span>&nbsp;&mdash;&nbsp;</span>
        <span data-bind="text: topic, attr: { title: topic }"></span>
      </div>
      <ol class="panel-body list-group" data-bind="foreach: { data: messages, as: 'message' }"></ol>
      <div class="panel-footer">
        <textarea></textarea>
      </div>
    </div>
    <!-- /ko -->
    <!-- /ko -->
  </div>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="js/vendor/jquery-1.8.3.min.js"><\/script>')</script>
  <script src="/socket.io/socket.io.js"></script> 
  <script src="/js/knockout-latest.js"></script>
  <script src="/js/emitter.js"></script>
  <script src="/js/parser.js"></script>
  <script src="/js/client.js"></script>
  <script>
  // -----------------------------------------------------------------
  //  index.js
  //  
  //  irc.milhen.ch
  //  Copyright 2013. Colin Milhench. All rights reserved.
  //  
  //  Colin Milhench
  // 

  /* jshint browser:true, jquery:true */
  /* jshint -W015 */

  (function(factory){
    'use strict';
    factory();
  }(function(){
    'use strict';

    function ViewModel() {
      this.parser = new Parser();
      this.nick = ko.observable('Bob');
      this.selected = ko.observable();
      this.channels = ko.observableArray();
  
    }
  
    function Channel(name){
      this.name = ko.observable(name);
      this.topic = ko.observable();
      this.names = ko.observableArray();
      this.messages = ko.observableArray();
    }
    
    // -----------------------------------------------------------------
    //  Main
    var vm = new ViewModel()
    ko.applyBindings(vm);
    
    vm.channels.push({});
    window.vm = vm;
  
  }));
  </script>
</body>
</html>
